# this 指针详解

一个类中的不同对象在调用自己的成员函数时，其实它们调用的是同一段函数代码，那么成员函数如何知道要访问哪个对象的数据成员呢？    
- 每个对象都拥有一个 this 指针，this 指针记录对象的内存地址，当我们调用成员函数时，<font color="#dd0000">成员函数默认第一个参数为 T* const register this</font><br />，大多数编译器通过 ecx 寄存器传递 this 指针，通过 this 这个隐式参数可以访问该对象的数据成员。

类的成员函数为什么不能用 static 和 const 同时修饰？
- 类中用 const 修饰的函数通常用来防止修改对象的数据成员，<font color="#dd0000">函数末尾的 const 是用来修饰 this 指针，防止在函数内对数据成员进行修改，而静态函数中是没有 this 指针的</font><br />，无法访问到对象的数据成员，与 C++ static语义冲突，所以不能。

this 指针注意点
- <font color="#dd0000">C++ 中 this 关键字是一个指向对象自己的一个常量指针，不能给 this 赋值</font><br />
- <font color="#dd0000">只有成员函数才有 this 指针，友元函数不是类的成员函数，没有 this 指针</font><br />
- 静态函数也是没有 this 指针的，静态函数如同静态变量一样，不属于具体的哪一个对象
- this 指针作用域在类成员函数内部，在类外也无法获取
- <font color="#dd0000">this 指针并不是对象的一部分</font><br />，this 指针所占的内存大小是不会反应在 sizeof 操作符上的

this指针的使用
- 在类的非静态成员函数中返回类对象本身的时候，直接使用 return *this
- 修改类成员变量或参数与成员变量名相同时，如 this->a = a 
- 在 class 定义时要用到类型变量自身时，因为这时候还不知道变量名，就用 this 这样的指针来使用变量自身
